<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign up Page</title>
</head>
<style>
  body {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    background-color: #1C202A;
    background-image: url(http://www.cfdesigner.com/codepen/rocket-page-bkg.png);
    background-position: center;
    background-size: cover;
    font-family: 'Open Sans', sans-serif;
    height: 100vh;
    letter-spacing: 1rem;
    line-height: 1rem;
  }

  h1 {
    margin-bottom: 2rem;
    font-size: 1.5rem;
    letter-spacing: 0.1rem;
  }

  #main {
    color: #fff;
    text-align: center;
    min-height: 525px;
    width: 320px;
  }

  .buttons {
    margin: 0;
    padding: 0;
  }

  form .input-field {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    margin-bottom: 1rem;
  }

  form input[type='password'],
  form input[type='Email'],
  form input[type='name'],
  form input[type='submit'] {
    border: none;
    border-radius: 4px;
    color: #fff;
    font: inherit;
    padding: 1rem;
    width: 100%;
  }

  form input[type='password'],
  form input[type='Email'],
  form input[type='name'] {
    background-color: #3b4148;
  }

  form input[type='password']:focus,
  form input[type='password']:hover,
  form input[type='Email']:focus,
  form input[type='Email']:hover,
  form input[type='name']:focus,
  form input[type='name']:hover {
    background-color: #434a52;
    outline: none;
  }

  form input[type='submit'] {
    cursor: pointer;
    font-weight: 600;
    padding: 1rem;
    padding: 16px;
  }

  form input[type='submit']:active {
    background: #C0180C;
  }

  #footer {
    display: block;
    position: absolute;
    bottom: 20px;
    font-size: 0.8em;
    text-align: center;
    width: 100%;
  }

  #footer ul {
    padding: 0;
  }

  #footer li {
    border-left: solid 1px #737D9C;
    display: inline-block;
    list-style-type: none;
    padding: 0 1em;
  }

  #footer li:first-child {
    border: none;
  }

  #footer a {
    color: #737D9C;
    text-decoration: none;
  }

  #footer a:hover {
    color: #c1c1c1;
  }
</style>

<body>
  <div id="main">
    <h1>Be productive</h1>
    <img class="image" src="http://www.cfdesigner.com/codepen/rocket-page-logo.png" alt="rocket-image" />
    <h2>Sign up</h2>
    <form action="/register" method="POST">
      <section>
        <div class="input-field">
          <input id="input-name" type="name" name="name" placeholder="Username">
        </div>
        <div class="input-field">
          <input id="input-email" type="email" name="email" placeholder="Email">
        </div>
        <div class="input-field">
          <input id="input-password" type="password" name="password" placeholder="Password">
        </div>
      </section>
      <ul class="buttons">
        <li><input id="buttEl" type="submit" value="Sign up" class="button"></li>
      </ul>
    </form>

  </div>

  <div id="footer">
    <ul>
      <li><a href="/login">Login</a></li>
      <li><a href="#">####</a></li>
      <li><a href="#">####</a></li>
    </ul>
  </div>

  <script>
    const getElement = document.getElementById('buttEl');
    const inpName = document.getElementById('input-name');
    const inpEmail = document.getElementById('input-email');
    const inpPassword = document.getElementById('input-password');
    const regURL = 'http://localhost:3000/register';

    // const test = () => {
    //   window.alert('gavno')
    // }

    const postRegister = () => {
      const xhr = new XMLHttpRequest();
      console.log(xhr);
      xhr.open('POST', regURL, true);
      xhr.setRequestHeader('Content-Type',
        'application/json; charset = UTF-8');
      xhr.onreadystatechange = () => {
        if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
          let serverResponse = JSON.stringify(xhr.response);
          console.log('works')
        }
      }
      let body = JSON.stringify({ name: inpName.value, email: inpEmail.value, password: inpPassword.value });
      xhr.send(body);
    }
    getElement.addEventListener('click', postRegister);
  </script>
</body>

</html>